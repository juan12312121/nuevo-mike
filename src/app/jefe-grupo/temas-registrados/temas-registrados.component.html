<div class="body">
    <!-- Sidebar -->
    <app-aside-jefe-grupo></app-aside-jefe-grupo>
  
    <div class="container">
      <div class="main-content">
        <!-- Cabecera -->
        <div class="header">
          <h1>Mis Temas Vistos</h1>
        </div>
  
        <!-- Panel principal -->
        <div class="panel">
          <!-- Filtros -->
          <div class="filters">
            <div class="filter-group">
              <div class="filter-item">
                <select class="filter-control" [(ngModel)]="estadoTema" (change)="aplicarFiltros()">
                  <option value="">Todos los estados</option>
                  <option value="Visto">Visto</option>
                  <option value="No Visto">No Visto</option>
                </select>
              </div>
              <div class="filter-item">
                <input
                  type="date"
                  class="filter-control"
                  [(ngModel)]="fechaInicio"
                  (change)="aplicarFiltros()"
                />
              </div>
              <div class="filter-item">
                <input
                  type="date"
                  class="filter-control"
                  [(ngModel)]="fechaFin"
                  (change)="aplicarFiltros()"
                />
              </div>
            </div>
            <div class="search-box">
              <i class="fa-solid fa-search search-icon"></i>
              <input
                type="text"
                class="filter-control"
                [(ngModel)]="searchTerm"
                (input)="aplicarFiltros()"
                placeholder="Buscar por tema..."
              />
            </div>
          </div>
  
          <!-- Tabla -->
          <div class="table-container">
            <table id="misTemasVistosTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Fecha</th>
                  <th>Materia</th>
                  <th>Tema</th>
                  <th>Estado</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let tema of temasPaginados()">
                  <td>{{ tema.id }}</td>
                  <td>{{ tema.fecha }}</td>
                  <td>{{ tema.materia_nombre }}</td>
                  <td>{{ tema.nombre_tema }}</td>
                  <td>
                    <span
                      class="status-badge"
                      [ngClass]="{
                        'status-visto': tema.estado === 'Visto',
                        'status-no-visto': tema.estado === 'No Visto'
                      }"
                    >
                      <i
                        class="fa-solid"
                        [ngClass]="{
                          'fa-check': tema.estado === 'Visto',
                          'fa-xmark': tema.estado === 'No Visto'
                        }"
                      ></i>
                      {{ tema.estado }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
  
          <!-- PaginaciÃ³n -->
          <div class="pagination">
            <span class="pagination-info">
              Mostrando {{ (paginaActual - 1) * registrosPorPagina + 1 }} -
              {{ Math.min(paginaActual * registrosPorPagina, temasFiltrados.length) }}
              de {{ temasFiltrados.length }} registros
            </span>
            <div class="pagination-buttons">
              <button class="page-btn" [disabled]="paginaActual === 1" (click)="cambiarPagina(-1)">
                <i class="fa-solid fa-chevron-left"></i>
              </button>
  
              <button
                class="page-btn"
                *ngFor="let _ of [].constructor(totalPaginas()); let i = index"
                [class.active]="paginaActual === i + 1"
                (click)="paginaActual = i + 1"
              >
                {{ i + 1 }}
              </button>
  
              <button
                class="page-btn"
                [disabled]="paginaActual === totalPaginas()"
                (click)="cambiarPagina(1)"
              >
                <i class="fa-solid fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  